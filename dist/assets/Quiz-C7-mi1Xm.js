import{r as a,d as y,j as e}from"./index-B-Inda8g.js";function m(s){const n=s.slice();for(let c=n.length-1;c>0;c-=1){const x=Math.floor(Math.random()*(c+1));[n[c],n[x]]=[n[x],n[c]]}return n}function A(){try{const s=localStorage.getItem("progress");return s?JSON.parse(s):{}}catch{return{}}}function R(s){localStorage.setItem("progress",JSON.stringify(s))}function F(){const s=a.useMemo(()=>m(y).slice(0,20),[]),[n,c]=a.useState(0),[x,N]=a.useState(0),[d,f]=a.useState(!1),[p,g]=a.useState(null),[h,S]=a.useState(A()),[l,v]=a.useState("capital");a.useEffect(()=>{v(Math.random()>.5?"capital":"country")},[n]);const i=s[n],o=l==="capital"?i.capital:i.country,w=a.useMemo(()=>{const t=m(y.filter(r=>l==="capital"?r.capital!==o:r.country!==o)).slice(0,3),u=[o,...t.map(r=>l==="capital"?r.capital:r.country)];return m(u)},[i,l]);function C(t){if(d)return;g(t);const u=t===o;f(!0),u&&N(P=>P+1);const r=i.country,b=h[r]||{attempts:0,correct:0},M={attempts:b.attempts+1,correct:b.correct+(u?1:0)},j={...h,[r]:M};S(j),R(j)}function k(){f(!1),g(null),c(t=>t+1)}function I(){window.location.reload()}return n>=s.length?e.jsxs("div",{className:"w-full max-w-2xl glass rounded-2xl p-8 text-center fade-in",children:[e.jsx("div",{className:"text-3xl font-semibold text-neon-purple",children:"Resultado final"}),e.jsxs("div",{className:"mt-4 text-2xl",children:[x," / ",s.length]}),e.jsx("button",{onClick:I,className:"mt-6 px-4 py-2 rounded-lg bg-gradient-to-r from-neon-blue to-neon-purple text-black font-semibold hover:scale-105 active:scale-95 transition-transform focus:outline-none focus:ring-2 focus:ring-neon-blue","aria-label":"Reintentar",children:"Reintentar"})]}):e.jsxs("div",{className:"w-full max-w-2xl glass rounded-2xl p-8 fade-in",children:[e.jsx("div",{className:"text-sm text-slate-300 mb-2",children:l==="capital"?"Selecciona la capital correcta para:":"Selecciona el país correcto para:"}),e.jsx("div",{className:"text-2xl md:text-3xl font-semibold text-neon-green",children:l==="capital"?i.country:i.capital}),e.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:w.map(t=>{const u=d&&t===o,r=d&&t===p&&t!==o;return e.jsx("button",{onClick:()=>C(t),className:["px-4 py-3 rounded-xl text-left glass transition transform hover:scale-[1.01] focus:outline-none focus:ring-2",u?"bg-green-500/20 ring-green-400":"",r?"bg-red-500/20 ring-red-400":""].join(" "),"aria-label":`Opción ${t}`,children:t},t)})}),d&&e.jsx("div",{className:"mt-4 text-sm",children:p===o?e.jsx("span",{className:"text-green-400",children:"¡Correcto!"}):e.jsxs("span",{className:"text-red-400",children:["Incorrecto, la respuesta es ",o,"."]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-slate-400",children:["Pregunta ",n+1," / ",s.length]}),e.jsx("button",{onClick:k,disabled:!d,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-neon-blue to-neon-purple text-black font-semibold disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-neon-purple","aria-label":"Siguiente pregunta",children:"Siguiente"})]})]})}export{F as default};
